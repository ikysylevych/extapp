<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Extapp : Extapp is the tool to build ExtJS applications. Ranking dependencies and combining all ExtJS classes into one output file." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Extapp</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/liberborn/extapp">View on GitHub</a>

          <h1 id="project_title">Extapp</h1>
          <h2 id="project_tagline">Extapp is the tool to build ExtJS applications. Ranking dependencies and combining all ExtJS classes into one output file.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/liberborn/extapp/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/liberborn/extapp/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="about" class="anchor" href="#about"><span class="octicon octicon-link"></span></a>About</h1>

<p>Extapp is the lightweight tool to build ExtJS applications. The main goal is to collect all dependencies required by JS application into one production-ready output file.</p>

<p>The tool is processing build in <em>non-conflict manner</em>. It may alert developer about errors and warnings but mainly it does not break the build because for example of duplicates or some class file was not found etc.</p>

<p>No additional comment conventions needed. Extapp avoids some custom magic comments like <strong>/*requires file.js */</strong>. It uses native ExtJS dependencies declarations in <strong>Ext.define()</strong> method or in any other place in the code.</p>

<p><strong>The main features of the Extapp tool:</strong></p>

<ul>
<li>build sources into one output file</li>
<li>resolving dependencies</li>
<li>deduplicate referenced dependencies</li>
<li>ranking classes based on references</li>
<li>smart avoid of infinite loops</li>
<li>minify JS code</li>
<li>usage in other JS frameworks</li>
</ul><h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<div class="highlight highlight-bash"><pre>Usage: java -jar extapp-yyyy.mm.jar <span class="o">[</span>options<span class="o">]</span> <span class="o">[</span>base path<span class="o">]</span> <span class="o">[</span>config file<span class="o">]</span> <span class="o">[</span><span class="nb">source </span>file<span class="o">]</span> <span class="o">[</span>output file<span class="o">]</span>

Global Options
  -h, --help                    Displays this information
  -v, --verbose                 Display informational messages and warnings
  -l, --delimiter               Output a delimiter between combined files
  -m, --minify                  Minify js code in the output file
  -b, --basePath                Base path to web folder <span class="o">(</span>absolute or relative<span class="o">)</span>
  -c &lt;file&gt;, --config &lt;file&gt;    Config file with extapp options
  -s &lt;file&gt;, --source &lt;file&gt;    Source file. Starting point to process dependencies.
  -o &lt;file&gt;, --output &lt;file&gt;    Place the output into &lt;file&gt;. Defaults to <span class="nb">source </span>file
</pre></div>

<h1>
<a name="main-features" class="anchor" href="#main-features"><span class="octicon octicon-link"></span></a>Main features</h1>

<h2>
<a name="build-sources-into-one-output-file" class="anchor" href="#build-sources-into-one-output-file"><span class="octicon octicon-link"></span></a>Build sources into one output file</h2>

<p>Actually this is the core feature of the tool. On production environments we don't need to load hundreds of small files with ExtJS classes declared. It significantly decreases browser performance and UI experience. We want to have one combined script file even with ~10Mb size. User can wait one time.</p>

<h2>
<a name="resolving-dependencies" class="anchor" href="#resolving-dependencies"><span class="octicon octicon-link"></span></a>Resolving dependencies</h2>

<p>Each Ext class usually starts with <strong>'Ext.define()'</strong> method. Parameters like <strong>'requires', 'uses', 'controllers', 'views'</strong> etc refer to other classes which have to be declared before current ext class.</p>

<p>There are three reference types which can be grouped like this:</p>

<ul>
<li>
<strong>array types without folders</strong>: 'requires', 'uses'</li>
<li>
<strong>array types with folders</strong>: 'controllers', 'models', 'stores', 'views'</li>
<li>
<strong>string types</strong>: 'extend', 'model', 'store'</li>
</ul><h2>
<a name="rankink-classes" class="anchor" href="#rankink-classes"><span class="octicon octicon-link"></span></a>Rankink classes</h2>

<p>The simpliest way to prioritize classes is to rank them based on references. </p>

<p><strong>For example:</strong> if <strong>class 'A'</strong> with <em>rank 1</em> requires <strong>class 'B'</strong> with <em>rank 1</em> - then <strong>class 'B'</strong> rises to <em>rank 2</em>. After that if <strong>class 'C'</strong> with <em>rank 4</em> uses <strong>class 'A'</strong> - then <strong>class 'A'</strong> raises to <em>rank 5</em> and <strong>class 'B'</strong> raises to <em>rank 6</em>.</p>

<p>The ranking table guarantees that all classes are correctly prioritized and will be defined with referencing to already declared classes. </p>

<h2>
<a name="smart-avoid-of-infinite-loops" class="anchor" href="#smart-avoid-of-infinite-loops"><span class="octicon octicon-link"></span></a>Smart avoid of infinite loops</h2>

<p>I have did not find the 100% orthodox way to find out if classes dependencies chains will go into infinite loops.</p>

<p>It was resolved with easy trick - <em>rank limit</em> introduced. Usually the very huge ExtJS application reaches up to 10-15 rank levels. So we can assume that if rank goes for example to 100 it is very unusual and possibly it is the infinite loop.</p>

<h2>
<a name="minify-js-code" class="anchor" href="#minify-js-code"><span class="octicon octicon-link"></span></a>Minify JS Code</h2>

<p>Simple JS Code minify option. Removes comments, line breaks and white spaces. I would recommend to use <strong><a href="https://github.com/yui/yuicompressor">YUI Compressor</a></strong> instead.</p>

<p>But in rare cases when code is not working you can keep in mind that <strong>YUI Compressor</strong> is modyfiying code a little bit (changes local variables in fuctions etc). So the simple minify option would be better to use sometimes.</p>

<h2>
<a name="extapp-vs-senchacmd" class="anchor" href="#extapp-vs-senchacmd"><span class="octicon octicon-link"></span></a>Extapp VS Sencha.cmd</h2>

<p>Sencha.cmd is the ultimate tool to work with ExtJS applications.</p>

<p>Extapp is about something different. It is probably more like the alternative of JS Compiler module built in Sencha.cmd.</p>

<ul>
<li>excluding native <strong>'Ext'</strong> sources</li>
<li>working in non-conflict way</li>
<li>deployment friendly</li>
</ul><h3>
<a name="excluding-native-ext-sources" class="anchor" href="#excluding-native-ext-sources"><span class="octicon octicon-link"></span></a>Excluding native <strong>'Ext'</strong> sources</h3>

<p>The big ExtJS appications usually use many of core ExtJS sources. That is why it is useful just to include 'ext-all.js' and do not care about native <strong>'Ext'</strong> classes. Extapp does the job. You may exclude <strong>'Ext'</strong> class but include <strong>'Ext.data'</strong> etc.</p>

<h3>
<a name="working-in-non-conflict-way" class="anchor" href="#working-in-non-conflict-way"><span class="octicon octicon-link"></span></a>Working in non-conflict way</h3>

<p>We do not want the dictatorship of the tools. Class was not found ? - OK. Go ahead. Duplicates? - Nevermind. Output file was not set? - Let's backup the source file and use it instead!</p>

<h3>
<a name="deployment-friendly" class="anchor" href="#deployment-friendly"><span class="octicon octicon-link"></span></a>Deployment friendly</h3>

<p>It is much more easy to integrate one simple jar file into deployment environments than install and manage huge tools.</p>

<p><strong>Usage of app build and sources at the same time</strong>. This way may help to not fail the production builds. The website can work with build file and know paths to source files. That is why the app can load source files when needed if they don't exist  or were misplaced in the build file.</p>

<p>Extapp may be easily integrated in both <strong>ant</strong> and <strong>gradle</strong> deployment scripts.</p>

<h1>
<a name="extapp-examples" class="anchor" href="#extapp-examples"><span class="octicon octicon-link"></span></a>Extapp examples</h1>

<h2>
<a name="demo-portal" class="anchor" href="#demo-portal"><span class="octicon octicon-link"></span></a>Demo Portal</h2>

<h3>
<a name="run-in-command-line" class="anchor" href="#run-in-command-line"><span class="octicon octicon-link"></span></a>Run in command line</h3>

<div class="highlight highlight-bash"><pre>java -jar .build/extapp-2014.06.jar -v -l -b app -c /portal/extapp-config.js -s /portal/app.js -o /portal/app-output.js
</pre></div>

<h3>
<a name="extapp-config-file" class="anchor" href="#extapp-config-file"><span class="octicon octicon-link"></span></a>Extapp config file</h3>

<div class="highlight highlight-js"><pre><span class="p">{</span>
    <span class="nx">name</span> <span class="o">:</span> <span class="s1">'Demo'</span><span class="p">,</span>
    <span class="nx">appFolder</span> <span class="o">:</span> <span class="s1">'/portal'</span><span class="p">,</span>

    <span class="cm">/**</span>
<span class="cm">     * Paths to ext classes folders and specific files</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="nx">paths</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s1">'Demo'</span> <span class="o">:</span> <span class="s1">'/portal'</span><span class="p">,</span>
        <span class="s1">'DemoSingleton'</span> <span class="o">:</span> <span class="s1">'/portal/DemoSingleton.js'</span><span class="p">,</span>
        <span class="s1">'Portal'</span> <span class="o">:</span> <span class="s1">'/portal'</span><span class="p">,</span> <span class="c1">// alternative for 'Demo' class. Points to the same folder</span>

        <span class="s1">'Ext'</span> <span class="o">:</span> <span class="s1">'/ext/src'</span><span class="p">,</span> <span class="c1">// path to ExtJS sources</span>
        <span class="s1">'Ext.ux.form.field.BoxSelect'</span> <span class="o">:</span> <span class="s1">'/portal/plugin/BoxSelect.js'</span> <span class="c1">// custom ExtJS class</span>
    <span class="p">},</span>

    <span class="cm">/**</span>
<span class="cm">     * Read dependency types</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="nx">dependTypes</span> <span class="o">:</span> <span class="p">{</span>
        <span class="c1">// array types without folders</span>
        <span class="nx">requires</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">uses</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">includes</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// custom type (not documented in ExtJS)</span>

        <span class="c1">// array types with folders</span>
        <span class="nx">controllers</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">models</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">stores</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">views</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>

        <span class="c1">// string types</span>
        <span class="nx">extend</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">store</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">model</span> <span class="o">:</span> <span class="kc">true</span>
    <span class="p">},</span>

    <span class="cm">/**</span>
<span class="cm">     * Include/exclude Ext classes</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="nx">extClasses</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s1">'Ext'</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// default : exclude Ext classes</span>
        <span class="s1">'Ext.util'</span> <span class="o">:</span> <span class="kc">true</span>
    <span class="p">},</span>

    <span class="cm">/**</span>
<span class="cm">     * Safe rank : prevents infinite loop on dependencies chain</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="nx">safeRank</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">safeRankLimit</span> <span class="o">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>

<h3>
<a name="command-line-output" class="anchor" href="#command-line-output"><span class="octicon octicon-link"></span></a>Command line output</h3>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>java -jar .build/extapp-2014.06.jar -v -l -b app -c /portal/extapp-config.js -s /portal/app.js -o /portal/app-output.js

<span class="o">[</span>INFO<span class="o">]</span> Base path : app
<span class="o">[</span>INFO<span class="o">]</span> Config file : app/portal/extapp-config.js
<span class="o">[</span>INFO<span class="o">]</span> Source file : app/portal/app.js
<span class="o">[</span>INFO<span class="o">]</span> Output file : app/portal/app-output.js

<span class="o">[</span>INFO<span class="o">]</span> Processing <span class="nb">source </span>files...

<span class="o">[</span>WARNING<span class="o">]</span> Ext class <span class="s1">'Demo.modules.test.controller.Main'</span> has <span class="m">1</span> duplicate dependencies. File : /portal/modules/test/controller/Main.js

<span class="o">[</span>WARNING<span class="o">]</span> Rank limit <span class="m">100</span> has been reached. Possibly infinite loop took place.
Stop processing <span class="s1">'Demo.modules.test.view.TestView'</span>. Please check dependency chain or disable safe rank.
Ext class <span class="s1">'Demo.modules.test.view.TestView'</span>. File : /portal/modules/test/view/TestView.js

<span class="o">[</span>ERROR<span class="o">]</span> File not found : /portal/store/SampleStore.js


<span class="o">[</span>INFO<span class="o">]</span> Building ext app...

<span class="o">[</span>INFO<span class="o">]</span> -- rank : extClass --
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">100</span> : /portal/modules/test/view/TestView.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">99</span> : /portal/modules/test/model/TestModel.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">98</span> : /portal/modules/test/store/TestStore.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">6</span> : /ext/src/util/CSS.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">5</span> : /portal/DemoSingleton.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">5</span> : /portal/model/AboutModel.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">4</span> : /portal/store/AboutStore.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">4</span> : /portal/view/app/Portlet.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">4</span> : /portal/view/components/Window.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">4</span> : /portal/view/components/Logo.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">3</span> : /portal/view/portal/NavigationHeader.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">3</span> : /portal/view/components/AboutWindow.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">3</span> : /portal/view/portal/PortletsPanel.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">2</span> : /portal/plugin/DemoPlugin.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">2</span> : /portal/controller/Main.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /portal/view/MainView.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /portal/controller/Secondary.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /portal/modules/test/controller/Main.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">0</span> : /portal/app.js

<span class="o">[</span>INFO<span class="o">]</span> Extapp build <span class="nb">complete</span>!

<span class="o">[</span>INFO<span class="o">]</span> -- errors : 1
<span class="o">[</span>INFO<span class="o">]</span> -- warnings : 2
<span class="o">[</span>INFO<span class="o">]</span> -- total : <span class="m">19</span> files
<span class="o">[</span>INFO<span class="o">]</span> -- <span class="nb">time</span> : 0.409 seconds
</pre></div>

<h2>
<a name="calendar-extjs-5-samples" class="anchor" href="#calendar-extjs-5-samples"><span class="octicon octicon-link"></span></a>Calendar (ExtJS 5 Samples)</h2>

<h3>
<a name="run-in-command-line-1" class="anchor" href="#run-in-command-line-1"><span class="octicon octicon-link"></span></a>Run in command line</h3>

<div class="highlight highlight-bash"><pre>java -jar .build/extapp-2014.06.jar -v -l -b app -c /calendar/extapp-config.js -s /calendar/src/App.js
</pre></div>

<h3>
<a name="extapp-config-file-1" class="anchor" href="#extapp-config-file-1"><span class="octicon octicon-link"></span></a>Extapp config file</h3>

<div class="highlight highlight-js"><pre><span class="p">{</span>
    <span class="nx">name</span> <span class="o">:</span> <span class="s1">'Calendar'</span><span class="p">,</span>
    <span class="nx">appFolder</span> <span class="o">:</span> <span class="s1">'/calendar'</span><span class="p">,</span>

    <span class="cm">/**</span>
<span class="cm">     * Paths to ext classes folders and specific files</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="nx">paths</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s1">'Ext.calendar'</span> <span class="o">:</span> <span class="s1">'/calendar/src'</span><span class="p">,</span>
        <span class="s1">'Ext'</span> <span class="o">:</span> <span class="s1">'/ext/src'</span> <span class="c1">// path to ExtJS sources</span>
    <span class="p">},</span>

    <span class="cm">/**</span>
<span class="cm">     * Read dependency types</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="nx">dependTypes</span> <span class="o">:</span> <span class="p">{</span>
        <span class="c1">// array types without folders</span>
        <span class="nx">requires</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">uses</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">includes</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// custom type (not documented in ExtJS)</span>

        <span class="c1">// array types with folders</span>
        <span class="nx">controllers</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">models</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">stores</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">views</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>

        <span class="c1">// string types</span>
        <span class="nx">extend</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">store</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">model</span> <span class="o">:</span> <span class="kc">true</span>
    <span class="p">},</span>

    <span class="cm">/**</span>
<span class="cm">     * Include/exclude Ext classes</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="nx">extClasses</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s1">'Ext'</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// default : exclude Ext classes</span>
        <span class="s1">'Ext.calendar'</span> <span class="o">:</span> <span class="kc">true</span>
    <span class="p">},</span>

    <span class="cm">/**</span>
<span class="cm">     * Safe rank : prevents infinite loop on dependencies chain</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="nx">safeRank</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">safeRankLimit</span> <span class="o">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>

<h3>
<a name="command-line-output-1" class="anchor" href="#command-line-output-1"><span class="octicon octicon-link"></span></a>Command line output</h3>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>java -jar .build/extapp-2014.06.jar -v -l -b app -c /calendar/extapp-config.js -s /calendar/src/App.js

<span class="o">[</span>INFO<span class="o">]</span> Base path : app
<span class="o">[</span>INFO<span class="o">]</span> Config file : app/calendar/extapp-config.js
<span class="o">[</span>INFO<span class="o">]</span> Source file : app/calendar/src/App.js
<span class="o">[</span>INFO<span class="o">]</span> No output file specified. Using <span class="nb">source </span>file <span class="k">for</span> output instead.
<span class="o">[</span>INFO<span class="o">]</span> Source backup file : app/calendar/src/App.src.js
<span class="o">[</span>INFO<span class="o">]</span> Output file : app/calendar/src/App.js

<span class="o">[</span>INFO<span class="o">]</span> Processing <span class="nb">source </span>files...

<span class="o">[</span>WARNING<span class="o">]</span> Ext class <span class="s1">'Ext.calendar.data.MemoryCalendarStore'</span> has <span class="m">1</span> duplicate dependencies. File : /calendar/src/data/MemoryCalendarStore.js

<span class="o">[</span>WARNING<span class="o">]</span> Ext class <span class="s1">'Ext.calendar.data.MemoryEventStore'</span> has <span class="m">1</span> duplicate dependencies. File : /calendar/src/data/MemoryEventStore.js


<span class="o">[</span>INFO<span class="o">]</span> Building ext app...

<span class="o">[</span>INFO<span class="o">]</span> -- rank : extClass --
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">8</span> : /calendar/src/util/Date.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">8</span> : /calendar/src/data/EventMappings.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">7</span> : /calendar/src/dd/StatusProxy.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">7</span> : /calendar/src/template/BoxLayout.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">7</span> : /calendar/src/view/AbstractCalendar.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">6</span> : /calendar/src/dd/DragZone.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">6</span> : /calendar/src/dd/DropZone.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">6</span> : /calendar/src/util/WeekEventRenderer.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">6</span> : /calendar/src/template/Month.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">6</span> : /calendar/src/view/MonthDayDetail.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">5</span> : /calendar/src/view/Month.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">5</span> : /calendar/src/template/DayHeader.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">5</span> : /calendar/src/dd/DayDragZone.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">5</span> : /calendar/src/dd/DayDropZone.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">5</span> : /calendar/src/template/DayBody.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">4</span> : /calendar/src/view/DayBody.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">4</span> : /calendar/src/data/CalendarMappings.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">4</span> : /calendar/src/view/DayHeader.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">3</span> : /calendar/src/form/field/ReminderCombo.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">3</span> : /calendar/src/form/field/CalendarCombo.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">3</span> : /calendar/src/view/Day.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">3</span> : /calendar/src/form/field/DateRange.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">2</span> : /calendar/src/form/EventDetails.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">2</span> : /calendar/src/data/CalendarModel.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">2</span> : /calendar/src/view/Week.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">2</span> : /calendar/src/data/EventModel.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /calendar/src/data/Events.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /calendar/src/form/EventWindow.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /calendar/src/data/MemoryEventStore.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /calendar/src/data/MemoryCalendarStore.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /calendar/src/data/Calendars.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : /calendar/src/CalendarPanel.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">0</span> : /calendar/src/App.js

<span class="o">[</span>INFO<span class="o">]</span> Extapp build <span class="nb">complete</span>!

<span class="o">[</span>INFO<span class="o">]</span> -- warnings : 2
<span class="o">[</span>INFO<span class="o">]</span> -- total : <span class="m">33</span> files
<span class="o">[</span>INFO<span class="o">]</span> -- <span class="nb">time</span> : 0.836 seconds

</pre></div>

<h1>
<a name="deployment-with-antgradle-examples" class="anchor" href="#deployment-with-antgradle-examples"><span class="octicon octicon-link"></span></a>Deployment with ant/gradle examples</h1>

<h2>
<a name="ant-targets" class="anchor" href="#ant-targets"><span class="octicon octicon-link"></span></a>Ant targets</h2>

<div class="highlight highlight-xml"><pre><span class="nt">&lt;project</span> <span class="na">name=</span><span class="s">"Extapp"</span> <span class="na">default=</span><span class="s">"optimizeExtApps"</span> <span class="na">basedir=</span><span class="s">"."</span><span class="nt">&gt;</span>

  <span class="c">&lt;!-- define props --&gt;</span>
  <span class="nt">&lt;taskdef</span> <span class="na">resource=</span><span class="s">"net/sf/antcontrib/antcontrib.properties"</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"extappJar"</span> <span class="na">value=</span><span class="s">".build/extapp-2014.06.jar"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"projectBasePath"</span> <span class="na">value=</span><span class="s">"app"</span> <span class="nt">/&gt;</span>

  <span class="c">&lt;!-- Extapp Builder --&gt;</span>
  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">"extappBuilder"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">"Extapp optimizer : ${extappName}"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;java</span> <span class="na">jar=</span><span class="s">"${extappJar}"</span> <span class="na">fork=</span><span class="s">"true"</span> <span class="na">failonerror=</span><span class="s">"yes"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">"-v"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">"-l"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">"-b"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">"${basePath}"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">"-c"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">"${configFile}"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">"-s"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">"${sourceFile}"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/java&gt;</span>
  <span class="nt">&lt;/target&gt;</span>

  <span class="c">&lt;!-- Build portal with extapp --&gt;</span>
  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">"optimizePortal"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;antcall</span> <span class="na">target=</span><span class="s">"extappBuilder"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"extappName"</span> <span class="na">value=</span><span class="s">"portal"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"basePath"</span> <span class="na">value=</span><span class="s">"${projectBasePath}"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"configFile"</span> <span class="na">value=</span><span class="s">"/portal/extapp-config.js"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"sourceFile"</span> <span class="na">value=</span><span class="s">"/portal/app.js"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/antcall&gt;</span>
  <span class="nt">&lt;/target&gt;</span>

  <span class="c">&lt;!-- Build calendar with extapp --&gt;</span>
  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">"optimizeCalendar"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;antcall</span> <span class="na">target=</span><span class="s">"extappBuilder"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"extappName"</span> <span class="na">value=</span><span class="s">"calendar"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"basePath"</span> <span class="na">value=</span><span class="s">"${projectBasePath}"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"configFile"</span> <span class="na">value=</span><span class="s">"/calendar/extapp-config.js"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"sourceFile"</span> <span class="na">value=</span><span class="s">"/calendar/src/App.js"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/antcall&gt;</span>
  <span class="nt">&lt;/target&gt;</span>

  <span class="c">&lt;!-- Optimize ExtJS apps with extapp builder --&gt;</span>
  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">"optimizeExtApps"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;antcall</span> <span class="na">target=</span><span class="s">"optimizePortal"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;antcall</span> <span class="na">target=</span><span class="s">"optimizeCalendar"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/target&gt;</span>
<span class="nt">&lt;/project&gt;</span>
</pre></div>

<h2>
<a name="gradle-tasks" class="anchor" href="#gradle-tasks"><span class="octicon octicon-link"></span></a>Gradle tasks</h2>

<div class="highlight highlight-groovy"><pre><span class="kt">def</span> <span class="n">extappJar</span> <span class="o">=</span> <span class="s1">'.build/extapp-2014.06.jar'</span>

<span class="cm">/**</span>
<span class="cm"> * Extapp Builder</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="kt">def</span> <span class="nf">extappBuilder</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">config</span><span class="o">,</span> <span class="n">source</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">printSection</span><span class="o">(</span><span class="s1">'Extapp optimizer : '</span> <span class="o">+</span> <span class="n">name</span><span class="o">)</span>
    <span class="n">javaexec</span> <span class="o">{</span>
        <span class="n">main</span> <span class="o">=</span><span class="s1">'-jar'</span>
        <span class="n">args</span> <span class="o">=</span> <span class="o">[</span>
            <span class="n">file</span><span class="o">(</span><span class="n">extappJar</span><span class="o">).</span><span class="na">path</span><span class="o">,</span> <span class="s1">'-v'</span><span class="o">,</span> <span class="s1">'-l'</span><span class="o">,</span> <span class="s1">'-b'</span><span class="o">,</span> <span class="n">webDir</span><span class="o">,</span> <span class="s1">'-c'</span><span class="o">,</span> <span class="n">config</span><span class="o">,</span> <span class="s1">'-s'</span><span class="o">,</span> <span class="n">source</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**</span>
<span class="cm"> * Optimize ExtJS apps with extapp builder</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">task</span> <span class="n">optimizeExtApps</span> <span class="o">&lt;&lt;</span> <span class="o">{</span>
    <span class="n">extappBuilder</span><span class="o">(</span><span class="s1">'portal'</span><span class="o">,</span> <span class="s1">'/portal/extapp-config.js'</span><span class="o">,</span> <span class="s1">'/portal/app.js'</span><span class="o">)</span>
    <span class="n">extappBuilder</span><span class="o">(</span><span class="s1">'calendar'</span><span class="o">,</span> <span class="s1">'/calendar/extapp-config.js'</span><span class="o">,</span> <span class="s1">'/calendar/src/App.js'</span><span class="o">)</span>
<span class="o">}</span>

<span class="n">defaultTasks</span> <span class="s1">'optimizeExtApps'</span>
</pre></div>

<h1>
<a name="usage-in-other-js-frameworks" class="anchor" href="#usage-in-other-js-frameworks"><span class="octicon octicon-link"></span></a>Usage in other JS frameworks</h1>

<p>Extapp can be potentially used in other JS frameworks (not only ExtJS) which are developed similarly to ExtJS methodology.</p>

<h3>
<a name="extjs-example" class="anchor" href="#extjs-example"><span class="octicon octicon-link"></span></a>ExtJS example</h3>

<div class="highlight highlight-js"><pre><span class="c1">// ExtJS methodology</span>
<span class="nx">Ext</span><span class="p">.</span><span class="nx">define</span><span class="p">({</span><span class="s1">'Ext.classOne.SubClass'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">extend</span><span class="o">:</span> <span class="s1">'Ext.classOne.Class'</span><span class="p">,</span>

    <span class="nx">requires</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">'Ext.classTwo.Class'</span>
    <span class="p">],</span>

    <span class="nx">uses</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">'Ext.classTwo.SubClass'</span>
    <span class="p">],</span>

    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// init</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="nx">Ext</span><span class="p">.</span><span class="nx">define</span><span class="p">({</span><span class="s1">'Ext.classTwo.SubClass'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">extend</span><span class="o">:</span> <span class="s1">'Ext.classTwo.Class'</span><span class="p">,</span>

    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// init</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h3>
<a name="rank-results" class="anchor" href="#rank-results"><span class="octicon octicon-link"></span></a>Rank results</h3>

<div class="highlight highlight-bash"><pre><span class="o">[</span>INFO<span class="o">]</span> -- rank : extClass --
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">2</span> : Ext/classTwo/Class.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : Ext/classOne/Class.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : Ext/classTwo/SubClass.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">0</span> : Ext/classOne/SubClass.js
</pre></div>

<h3>
<a name="any-other-js-framework-example" class="anchor" href="#any-other-js-framework-example"><span class="octicon octicon-link"></span></a>Any other JS framework example</h3>

<div class="highlight highlight-js"><pre><span class="c1">// ExtJS methodology</span>
<span class="nx">Framework</span><span class="p">.</span><span class="nx">defineFunction</span><span class="p">(</span><span class="s1">'Framework.classOne.SubClass'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">extend</span><span class="o">:</span> <span class="s1">'Framework.classOne.Class'</span><span class="p">,</span>

    <span class="nx">requires</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">'Framework.classTwo.Class'</span>
    <span class="p">],</span>

    <span class="nx">uses</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">'Framework.classTwo.SubClass'</span>
    <span class="p">],</span>

    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// init</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="nx">Framework</span><span class="p">.</span><span class="nx">defineFunction</span><span class="p">({</span><span class="s1">'Framework.classTwo.SubClass'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">extend</span><span class="o">:</span> <span class="s1">'Framework.classTwo.Class'</span><span class="p">,</span>

    <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// init</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h3>
<a name="rank-results-1" class="anchor" href="#rank-results-1"><span class="octicon octicon-link"></span></a>Rank results</h3>

<div class="highlight highlight-bash"><pre><span class="o">[</span>INFO<span class="o">]</span> -- rank : extClass --
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">2</span> : Framework/classTwo/Class.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : Framework/classOne/Class.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">1</span> : Framework/classTwo/SubClass.js
<span class="o">[</span>INFO<span class="o">]</span> <span class="m">0</span> : Framework/classOne/SubClass.js
</pre></div>

<h1>
<a name="references" class="anchor" href="#references"><span class="octicon octicon-link"></span></a>References</h1>

<p>Inspired by <em>Nicholas's C. Zakas</em> Combiner tool</p>

<ul>
<li><a href="http://www.nczonline.net/blog/2009/09/22/introducing-combiner-a-javascriptcss-concatenation-tool/">http://www.nczonline.net/blog/2009/09/22/introducing-combiner-a-javascriptcss-concatenation-tool/</a></li>
<li><a href="https://github.com/nzakas/combiner">https://github.com/nzakas/combiner</a></li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Extapp maintained by <a href="https://github.com/liberborn">liberborn</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
